{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/cbi/netflixclone/netflix/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/cbi/netflixclone/netflix/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/cbi/netflixclone/netflix/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect}from'react';import Axios from'./Axios';import Youtube from\"react-youtube\";import movieTrailer from'movie-trailer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var base_url=\"https://image.tmdb.org/t/p/original\";var Row=function Row(_ref){var title=_ref.title,fetchURL=_ref.fetchURL,isLargeRow=_ref.isLargeRow;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),trailerUrl=_useState4[0],setTrailerUrl=_useState4[1];useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var request;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Axios.get(fetchURL);case 2:request=_context.sent;setMovies(request.data.results);console.log(request);return _context.abrupt(\"return\",request);case 6:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[fetchURL]);var opts={height:\"390\",width:\"100%\",playerVars:{autoplay:1}};var handleClick=function handleClick(movie){if(trailerUrl){setTrailerUrl('');}else{movieTrailer((movie===null||movie===void 0?void 0:movie.name)||\"\").then(function(url){var urlParams=new URLSearchParams(new URL(url).search);setTrailerUrl(urlParams.get(\"v\"));}).catch(function(error){return console.log(error);});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsx(\"div\",{className:\"row_posters\",children:movies.map(function(movie){return/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return handleClick(movie);},className:\"row_poster \".concat(isLargeRow&&\"row_posterLarge\"),src:\"\".concat(base_url).concat(isLargeRow?movie.poster_path:movie.backdrop_path),alt:movie.name},movie.id);})}),trailerUrl&&/*#__PURE__*/_jsx(Youtube,{videoId:trailerUrl,opts:opts})]});};export default Row;","map":{"version":3,"names":["React","useState","useEffect","Axios","Youtube","movieTrailer","base_url","Row","title","fetchURL","isLargeRow","movies","setMovies","trailerUrl","setTrailerUrl","fetchData","get","request","data","results","console","log","opts","height","width","playerVars","autoplay","handleClick","movie","name","then","url","urlParams","URLSearchParams","URL","search","catch","error","map","poster_path","backdrop_path","id"],"sources":["C:/Users/cbi/netflixclone/netflix/src/components/Row.js"],"sourcesContent":["import React from 'react'\r\nimport { useState ,useEffect} from 'react';\r\nimport Axios from './Axios';\r\nimport Youtube from \"react-youtube\"\r\nimport movieTrailer from 'movie-trailer';\r\nconst base_url=\"https://image.tmdb.org/t/p/original\";\r\n const Row = ({title,fetchURL,isLargeRow}) => {\r\n    const [movies,setMovies]=useState([]);\r\n    const [trailerUrl,setTrailerUrl]=useState(\"\");\r\n    useEffect(()=>{\r\n        async function fetchData(){\r\n            const request=await Axios.get(fetchURL);\r\n            setMovies(request.data.results);\r\n       console.log(request);\r\n       return request;\r\n        }\r\n        fetchData();\r\n    },[fetchURL]);\r\n\r\n    const opts={\r\n      height:\"390\",\r\n      width:\"100%\",\r\n      playerVars:{\r\n\r\n        autoplay:1,\r\n      },\r\n    };\r\n    const handleClick=(movie)=>{\r\n      if(trailerUrl){\r\n        setTrailerUrl('');\r\n      }\r\n      else{\r\n        movieTrailer(movie?.name || \"\")\r\n      .then(url=>{\r\n        const urlParams= new URLSearchParams(new URL(url).search);\r\n      setTrailerUrl(urlParams.get(\"v\"))\r\n      })\r\n    .catch((error)=>console.log(error));\r\n    }\r\n    }\r\n\r\n  return (\r\n    <div className='row'>\r\n<h2>{title}</h2>\r\n<div className='row_posters'>\r\n  {movies.map(movie=>(\r\n    <img \r\n    key={movie.id}\r\n    onClick={()=>handleClick(movie)}\r\n    className={`row_poster ${isLargeRow && \"row_posterLarge\"}`}\r\n     src={`${base_url}${isLargeRow ? movie.poster_path : movie.backdrop_path}`} alt={movie.name}/>\r\n  ))}\r\n</div>\r\n{trailerUrl && <Youtube videoId={trailerUrl} opts={opts}/>}\r\n    </div>\r\n     )\r\n  }\r\n  \r\nexport default Row;\r\n"],"mappings":"qXAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAC1C,MAAOC,MAAK,KAAM,SAAS,CAC3B,MAAOC,QAAO,KAAM,eAAe,CACnC,MAAOC,aAAY,KAAM,eAAe,CAAC,wFACzC,GAAMC,SAAQ,CAAC,qCAAqC,CACnD,GAAMC,IAAG,CAAG,QAANA,IAAG,MAAoC,IAA/BC,MAAK,MAALA,KAAK,CAACC,QAAQ,MAARA,QAAQ,CAACC,UAAU,MAAVA,UAAU,CACpC,cAAyBT,QAAQ,CAAC,EAAE,CAAC,wCAA9BU,MAAM,eAACC,SAAS,eACvB,eAAiCX,QAAQ,CAAC,EAAE,CAAC,yCAAtCY,UAAU,eAACC,aAAa,eAC/BZ,SAAS,CAAC,UAAI,SACKa,UAAS,uIAAxB,uKACwBZ,MAAK,CAACa,GAAG,CAACP,QAAQ,CAAC,QAAjCQ,OAAO,eACbL,SAAS,CAACK,OAAO,CAACC,IAAI,CAACC,OAAO,CAAC,CACpCC,OAAO,CAACC,GAAG,CAACJ,OAAO,CAAC,CAAC,gCACdA,OAAO,wDACZ,4CACDF,SAAS,EAAE,CACf,CAAC,CAAC,CAACN,QAAQ,CAAC,CAAC,CAEb,GAAMa,KAAI,CAAC,CACTC,MAAM,CAAC,KAAK,CACZC,KAAK,CAAC,MAAM,CACZC,UAAU,CAAC,CAETC,QAAQ,CAAC,CACX,CACF,CAAC,CACD,GAAMC,YAAW,CAAC,QAAZA,YAAW,CAAEC,KAAK,CAAG,CACzB,GAAGf,UAAU,CAAC,CACZC,aAAa,CAAC,EAAE,CAAC,CACnB,CAAC,IACG,CACFT,YAAY,CAAC,CAAAuB,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEC,IAAI,GAAI,EAAE,CAAC,CAChCC,IAAI,CAAC,SAAAC,GAAG,CAAE,CACT,GAAMC,UAAS,CAAE,GAAIC,gBAAe,CAAC,GAAIC,IAAG,CAACH,GAAG,CAAC,CAACI,MAAM,CAAC,CAC3DrB,aAAa,CAACkB,SAAS,CAAChB,GAAG,CAAC,GAAG,CAAC,CAAC,CACjC,CAAC,CAAC,CACHoB,KAAK,CAAC,SAACC,KAAK,QAAGjB,QAAO,CAACC,GAAG,CAACgB,KAAK,CAAC,GAAC,CACnC,CACA,CAAC,CAEH,mBACE,aAAK,SAAS,CAAC,KAAK,wBACxB,oBAAK7B,KAAK,EAAM,cAChB,YAAK,SAAS,CAAC,aAAa,UACzBG,MAAM,CAAC2B,GAAG,CAAC,SAAAV,KAAK,qBACf,YAEA,OAAO,CAAE,yBAAID,YAAW,CAACC,KAAK,CAAC,EAAC,CAChC,SAAS,sBAAgBlB,UAAU,EAAI,iBAAiB,CAAG,CAC1D,GAAG,WAAKJ,QAAQ,SAAGI,UAAU,CAAGkB,KAAK,CAACW,WAAW,CAAGX,KAAK,CAACY,aAAa,CAAG,CAAC,GAAG,CAAEZ,KAAK,CAACC,IAAK,EAHvFD,KAAK,CAACa,EAAE,CAGiF,EAC/F,CAAC,EACE,CACL5B,UAAU,eAAI,KAAC,OAAO,EAAC,OAAO,CAAEA,UAAW,CAAC,IAAI,CAAES,IAAK,EAAE,GAChD,CAER,CAAC,CAEH,cAAef,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}